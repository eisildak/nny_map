<!DOCTYPE html>
<html lang="tr">
<head>
  <base href="$FLUTTER_BASE_HREF">
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Nuh Naci Yazgan √úniversitesi Interaktif Harita - NNY √úniversitesi">
  <meta name="keywords" content="Nuh Naci Yazgan √úniversitesi, harita, navigasyon, NNY, √ºniversite">

  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Nuh Naci Yazgan √úniversitesi Harita">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>Nuh Naci Yazgan √úniversitesi Haritasƒ± - NNY √úniversitesi</title>
  <link rel="manifest" href="manifest.json">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Google Maps API -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=AIzaSyDWVBfYxASYj1aTqcS8pvHa67IDic4wthk&libraries=geometry,places"></script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #2c3e50;
      background-color: #f8fafc;
    }
    
    /* Header Section */
    .header {
      background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
      color: white;
      padding: 40px 0;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .header-content {
      display: flex;
      align-items: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .nny-logo {
      flex-shrink: 0;
    }
    
    .nny-logo img {
      width: 130px;
      height: 130px;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(255,255,255,0.25);
      background: white;
      padding: 15px;
      transition: transform 0.3s ease;
    }
    
    .nny-logo img:hover {
      transform: scale(1.05);
    }
    
    .header-text {
      flex: 1;
      min-width: 300px;
    }
    
    .header-text h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 10px;
      line-height: 1.2;
    }
    
    .header-text .subtitle {
      font-size: 1.2rem;
      font-weight: 300;
      opacity: 0.9;
      margin-bottom: 20px;
    }
    
    .header-text .description {
      font-size: 1rem;
      font-weight: 400;
      opacity: 0.8;
      line-height: 1.6;
    }
    
    /* Features Section */
    .features {
      background: white;
      padding: 60px 0;
    }
    
    .section-title {
      text-align: center;
      font-size: 2.2rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 20px;
    }
    
    .section-subtitle {
      text-align: center;
      font-size: 1.1rem;
      color: #7f8c8d;
      margin-bottom: 50px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-bottom: 50px;
    }
    
    .feature-card {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      border: 1px solid #e1e8ed;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    }
    
    .feature-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 20px;
      background: linear-gradient(135deg, #3498db, #2980b9);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
    }
    
    .feature-card h3 {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 15px;
      color: #2c3e50;
    }
    
    .feature-card p {
      color: #7f8c8d;
      line-height: 1.6;
    }
    
    /* Map Section */
    .map-section {
      background: #f8fafc;
      padding: 40px 0;
      min-height: 80vh;
    }
    
    .map-container {
      position: relative;
      background: white;
      border-radius: 20px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.1);
      overflow: hidden;
      height: 70vh;
      min-height: 500px;
    }
    
    .map-header {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .map-title {
      font-size: 1.4rem;
      font-weight: 600;
    }
    
    .fullscreen-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .fullscreen-btn:hover {
      background: rgba(255,255,255,0.3);
    }
    
    .map-frame {
      width: 100%;
      height: calc(100% - 70px);
      border: none;
      display: block;
    }
    
    /* Fullscreen styles */
    .map-container.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 1000;
      border-radius: 0;
    }
    
    .map-container.fullscreen .map-frame {
      height: calc(100vh - 70px);
    }
    
    /* Info Cards */
    .info-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .info-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      border-left: 4px solid #3498db;
    }
    
    .info-card h4 {
      font-size: 1.1rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
    }
    
    .info-card p {
      color: #7f8c8d;
      font-size: 0.95rem;
    }
    
    /* Download Section */
    .download-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 60px 0;
      color: white;
    }
    
    .download-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 40px;
      margin-top: 40px;
    }
    
    .download-card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.2);
      transition: all 0.3s ease;
    }
    
    .download-card:hover {
      transform: translateY(-5px);
      background: rgba(255,255,255,0.15);
    }
    
    .platform-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
      background: rgba(255,255,255,0.2);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
    }
    
    .download-card h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 15px;
    }
    
    .download-card p {
      font-size: 1rem;
      opacity: 0.9;
      margin-bottom: 25px;
      line-height: 1.6;
    }
    
    .qr-placeholder {
      width: 150px;
      height: 150px;
      margin: 0 auto 20px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #7f8c8d;
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    .download-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 2px solid rgba(255,255,255,0.3);
      padding: 12px 30px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      display: inline-block;
      transition: all 0.3s ease;
      cursor: pointer;
      font-family: inherit;
      outline: none;
    }
    
    .download-btn:focus {
      outline: 2px solid rgba(255,255,255,0.5);
      outline-offset: 2px;
    }
    
    .download-btn:hover {
      background: rgba(255,255,255,0.3);
      border-color: rgba(255,255,255,0.5);
      transform: translateY(-2px);
    }
    
    .download-btn.disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .coming-soon {
      font-size: 0.85rem;
      opacity: 0.7;
    }
    
    .file-info {
      margin-top: 10px;
      opacity: 0.8;
    }
    
    .file-info small {
      font-size: 0.8rem;
      margin-top: 10px;
      font-style: italic;
    }
    
    /* Footer */
    .footer {
      background: #2c3e50;
      color: white;
      padding: 40px 0;
    }
    
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 40px;
      flex-wrap: wrap;
    }
    
    .footer-info h4 {
      color: #3498db;
      margin-bottom: 15px;
      font-size: 1.1rem;
    }
    
    .team-info {
      text-align: left;
    }
    
    .team-info p {
      margin: 8px 0;
      opacity: 0.9;
    }
    
    .footer-copyright {
      text-align: right;
    }
    
    .footer-copyright p {
      margin: 5px 0;
      opacity: 0.8;
      font-size: 0.9rem;
    }
    
    /* Loading Screen */
    .loading-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255,255,255,0.3);
      border-top: 5px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .loading-text {
      color: white;
      font-size: 1.2rem;
      margin-top: 20px;
      text-align: center;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    #flutter-target {
      display: none;
    }
    
    /* Search Box Styles */
    .map-search-container {
      position: absolute;
      top: 20px;
      left: 50%;
      transform: translateX(-50%);
      z-index: 10;
      width: 90%;
      max-width: 400px;
    }
    
    .map-search-box {
      width: 100%;
      padding: 12px 45px 12px 15px;
      border: none;
      border-radius: 25px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      font-size: 15px;
      font-family: 'Inter', sans-serif;
      outline: none;
      background: white;
    }
    
    .search-icon {
      position: absolute;
      right: 15px;
      top: 50%;
      transform: translateY(-50%);
      color: #3252a8;
      font-size: 18px;
    }
    
    .search-results {
      position: absolute;
      top: 100%;
      left: 0;
      right: 0;
      margin-top: 10px;
      background: white;
      border-radius: 12px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.2);
      max-height: 300px;
      overflow-y: auto;
      display: none;
    }
    
    .search-results.show {
      display: block;
    }
    
    .search-result-item {
      padding: 12px 15px;
      border-bottom: 1px solid #e1e8ed;
      cursor: pointer;
      transition: background 0.2s;
    }
    
    .search-result-item:hover {
      background: #f8fafc;
    }
    
    .search-result-item:last-child {
      border-bottom: none;
    }
    
    .result-title {
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 4px;
    }
    
    .result-info {
      font-size: 13px;
      color: #7f8c8d;
    }
    
    /* Navigation Panel */
    .navigation-panel {
      position: absolute;
      bottom: 20px;
      left: 50%;
      transform: translateX(-50%);
      background: white;
      border-radius: 16px;
      box-shadow: 0 8px 30px rgba(0,0,0,0.3);
      padding: 20px;
      width: 90%;
      max-width: 400px;
      z-index: 10;
      display: none;
    }
    
    .navigation-panel.show {
      display: block;
      animation: slideUp 0.3s ease;
    }
    
    @keyframes slideUp {
      from { transform: translateX(-50%) translateY(100px); opacity: 0; }
      to { transform: translateX(-50%) translateY(0); opacity: 1; }
    }
    
    .nav-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      margin-bottom: 15px;
    }
    
    .nav-title {
      font-size: 18px;
      font-weight: 700;
      color: #2c3e50;
    }
    
    .close-nav {
      background: #e1e8ed;
      border: none;
      width: 30px;
      height: 30px;
      border-radius: 50%;
      cursor: pointer;
      font-size: 18px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: background 0.2s;
    }
    
    .close-nav:hover {
      background: #cbd5e0;
    }
    
    .nav-info {
      display: flex;
      gap: 20px;
      margin-bottom: 15px;
      padding: 12px;
      background: #f8fafc;
      border-radius: 8px;
    }
    
    .nav-info-item {
      flex: 1;
      text-align: center;
    }
    
    .nav-info-label {
      font-size: 12px;
      color: #7f8c8d;
      margin-bottom: 4px;
    }
    
    .nav-info-value {
      font-size: 16px;
      font-weight: 600;
      color: #3252a8;
    }
    
    .start-navigation-btn {
      width: 100%;
      padding: 14px;
      background: linear-gradient(135deg, #3252a8, #2c3e50);
      color: white;
      border: none;
      border-radius: 25px;
      font-size: 16px;
      font-weight: 600;
      cursor: pointer;
      transition: transform 0.2s;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: 8px;
    }
    
    .start-navigation-btn:hover {
      transform: scale(1.02);
    }
    
    .start-navigation-btn:active {
      transform: scale(0.98);
    }
    
    /* My Location Button */
    .my-location-btn {
      position: absolute;
      bottom: 120px;
      right: 20px;
      width: 50px;
      height: 50px;
      background: white;
      border: none;
      border-radius: 50%;
      box-shadow: 0 4px 15px rgba(0,0,0,0.3);
      cursor: pointer;
      z-index: 10;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 24px;
      transition: all 0.2s;
    }
    
    .my-location-btn:hover {
      background: #f8fafc;
      transform: scale(1.05);
    }
    
    .my-location-btn:active {
      transform: scale(0.95);
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .header-content {
        text-align: center;
        flex-direction: column;
        gap: 20px;
      }
      
      .nny-logo img {
        width: 100px;
        height: 100px;
        padding: 12px;
      }
      
      .header-text h1 {
        font-size: 2rem;
      }
      
      .header-text .subtitle {
        font-size: 1.1rem;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .map-container {
        margin: 0 -20px;
        border-radius: 0;
        height: 60vh;
      }
      
      .info-cards {
        grid-template-columns: 1fr;
      }
      
      .download-grid {
        grid-template-columns: 1fr;
        gap: 30px;
      }
      
      .download-card {
        padding: 30px 20px;
      }
      
      .platform-icon {
        width: 60px;
        height: 60px;
        font-size: 2rem;
      }
      
      .qr-placeholder {
        width: 120px;
        height: 120px;
      }
      
      .footer-content {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }
      
      .team-info {
        text-align: center;
      }
      
      .footer-copyright {
        text-align: center;
      }
    }
  </style>

  <script>
    // The value below is injected by flutter build, do not touch.
    var serviceWorkerVersion = null;
  </script>
  <!-- This script adds the flutter initialization JS code -->
  <script src="flutter.js" defer></script>
</head>
<body>
  <!-- Flutter Loading -->
  <div id="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <div class="loading-text">Nuh Naci Yazgan √úniversitesi Haritasƒ± Y√ºkleniyor...</div>
  </div>
  
  <!-- Flutter App Container -->
  <div id="flutter-target"></div>
  
  <!-- Header Section -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="nny-logo">
          <img src="https://raw.githubusercontent.com/eisildak/millet_bahcesi_map/main/assets/icons/nny_university_logo.png" 
               alt="NNY √úniversitesi Logo" 
               onerror="this.src='https://raw.githubusercontent.com/eisildak/millet_bahcesi_map/main/assets/icons/nny_logo.png'">
        </div>
        <div class="header-text">
          <h1>Nuh Naci Yazgan √úniversitesi</h1>
          <div class="subtitle"> Navigasyon Rehberi</div>
          <div class="description">
            Nuh Naci Yazgan √úniversitesi tarafƒ±ndan geli≈ütirilen modern Flutter teknolojisi ile 
            ziyaret√ßilere yol tarifi alma imkanƒ± sunar.
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Features Section -->
  <section class="features">
    <div class="container">
      <h2 class="section-title">Uygulama √ñzellikleri</h2>
      <p class="section-subtitle">
        Nuh Naci Yazgan √úniversitesi'nde unutulmaz bir deneyim ya≈üamanƒ±z i√ßin geli≈ütirilmi≈ü √∂zellikler
      </p>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">üó∫Ô∏è</div>
          <h3>ƒ∞nteraktif Harita</h3>
          <p>Google Maps entegrasyonu ile detaylƒ± harita g√∂r√ºn√ºm√º ve ger√ßek zamanlƒ± konum takibi</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üìç</div>
          <h3>ƒ∞lgi Noktalarƒ±</h3>
          <p>Okul i√ßerisindeki √∂nemli noktalarƒ±n i≈üaretlenmesi ve detaylƒ± bilgileri</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üîç</div>
          <h3>Akƒ±llƒ± Arama</h3>
          <p>ƒ∞lgi noktalarƒ±nƒ± isim, kategori ve a√ßƒ±klama bazƒ±nda arama, kategori filtresi</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üß≠</div>
          <h3>Navigasyon</h3>
          <p>Y√ºr√ºyerek yol tarifi ve adƒ±m adƒ±m rehberlik, mesafe hesaplama √∂zellikleri</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üì±</div>
          <h3>Kullanƒ±cƒ± Dostu</h3>
          <p>Modern ve sezgisel aray√ºz tasarƒ±mƒ±, kolay kullanƒ±m</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">üåê</div>
          <h3>Konum Servisleri</h3>
          <p>GPS ile mevcut konum tespiti ve mesafe hesaplama</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Map Section -->
  <section class="map-section">
    <div class="container">
      <div class="map-container" id="mapContainer">
        <div class="map-header">
          <div class="map-title">üó∫Ô∏è Nuh Naci Yazgan √úniversitesi Haritasƒ±</div>
          <button class="fullscreen-btn" id="fullscreenBtn">
            <span>‚õ∂</span> Tam Ekran
          </button>
        </div>
        <div id="flutter-map" class="map-frame"></div>
        
        <!-- Search Box -->
        <div class="map-search-container">
          <input type="text" 
                 id="mapSearchBox" 
                 class="map-search-box" 
                 placeholder="üîç Ara... (Fak√ºlte, K√ºt√ºphane, Yurt...)"
                 autocomplete="off">
          <span class="search-icon">üîç</span>
          <div id="searchResults" class="search-results"></div>
        </div>
        
        <!-- My Location Button -->
        <button class="my-location-btn" id="myLocationBtn" title="Konumumu G√∂ster">
          üìç
        </button>
        
        <!-- Navigation Panel -->
        <div id="navigationPanel" class="navigation-panel">
          <div class="nav-header">
            <div class="nav-title" id="navTitle">Navigasyon</div>
            <button class="close-nav" id="closeNav">‚úï</button>
          </div>
          <div class="nav-info">
            <div class="nav-info-item">
              <div class="nav-info-label">Mesafe</div>
              <div class="nav-info-value" id="navDistance">-</div>
            </div>
            <div class="nav-info-item">
              <div class="nav-info-label">S√ºre</div>
              <div class="nav-info-value" id="navDuration">-</div>
            </div>
          </div>
        </div>
      </div>
      
      <div class="info-cards">
        <div class="info-card">
          <h4>üìç ƒ∞lgi Noktalarƒ±</h4>
          <p>Fak√ºlteler, K√ºt√ºphane, Yurt, Tesis Alanlarƒ±</p>
        </div>
        
        <div class="info-card">
          <h4>üéØ Kategoriler</h4>
          <p>Bilgi Standƒ±, Eƒülence, Spor, Restoran, Tesis, Doƒüa alanlarƒ±</p>
        </div>
        
        <div class="info-card">
          <h4>üöÄ Teknoloji</h4>
          <p>Flutter 3.0+, Google Maps API, GPS Konum Servisleri</p>
        </div>
        
        <div class="info-card">
          <h4>üì± Platform</h4>
          <p>Android, iOS ve Web platformlarƒ±nda √ßalƒ±≈üƒ±r</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Download Section -->
  <section class="download-section">
    <div class="container">
      <h2 class="section-title">Mobil Uygulamayƒ± ƒ∞ndirin</h2>
      <p class="section-subtitle">
        Nuh Naci Yazgan √úniversitesi harita uygulamasƒ±nƒ± mobil cihazƒ±nƒ±za indirin ve her zaman yanƒ±nƒ±zda ta≈üƒ±yƒ±n
      </p>
      
      <div class="download-grid">
        <!-- Android APK -->
        <div class="download-card">
          <div class="platform-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="#A4C639">
              <path d="M17.523,15.3414c-0.5665,0-1.0233-0.4568-1.0233-1.0233s0.4568-1.0233,1.0233-1.0233 s1.0233,0.4568,1.0233,1.0233S18.0895,15.3414,17.523,15.3414z M6.477,15.3414c-0.5665,0-1.0233-0.4568-1.0233-1.0233 s0.4568-1.0233,1.0233-1.0233s1.0233,0.4568,1.0233,1.0233S7.0435,15.3414,6.477,15.3414z M12,2.8594 c-0.0896,0-0.1792,0.0224-0.2687,0.0672L6.5313,5.1875c-0.1791,0.0896-0.2687,0.2687-0.2687,0.4478v6.7031 c0,1.7911,1.4588,3.25,3.25,3.25h5.4375c1.7911,0,3.25-1.4589,3.25-3.25V5.6353c0-0.1791-0.0896-0.358-0.2687-0.4478 l-5.2-2.26C12.1792,2.8818,12.0896,2.8594,12,2.8594z"/>
            </svg>
          </div>
          <h3>Android APK</h3>
          <p>Android cihazlar i√ßin optimize edilmi≈ü uygulama. Doƒürudan APK dosyasƒ±nƒ± indirerek kurulum yapabilirsiniz.</p>
          
          <div class="qr-placeholder" id="androidQR">
            <div class="qr-code-container">
        <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=https://drhamdikemerli.com/app-release.apk" 
          alt="Android APK QR Kod" style="width: 100%; height: 100%; border-radius: 8px;">
            </div>
          </div>
          
          <a class="download-btn" 
             id="androidDownloadBtn"
             href="https://drhamdikemerli.com/app-release.apk" 
             target="_blank" rel="noopener">
            üì• Android APK ƒ∞ndir (v1.0)
          </a>
          <div class="file-info">
            <small>üìä Dosya Boyutu: ~25MB | üì± Android 6.0+</small>
          </div>
        </div>
        
        <!-- iOS IPA -->
        <div class="download-card">
          <div class="platform-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="#000000">
              <path d="M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"/>
            </svg>
          </div>
          <h3>iOS IPA</h3>
          <p>iOS cihazlar i√ßin optimize edilmi≈ü uygulama. TestFlight veya enterprise daƒüƒ±tƒ±m ile kurulum yapabilirsiniz.</p>
          
          <div class="qr-placeholder" id="iosQR">
            QR Kod
            <br><small>Yakƒ±nda Eklenecek</small>
          </div>
          
          <a href="#" class="download-btn disabled" id="iosDownloadBtn">
            üì• iOS IPA ƒ∞ndir
          </a>
          <div class="coming-soon">IPA linki yakƒ±nda eklenecek</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-info">
          <h4>Proje Ekibi</h4>
          <div class="team-info">
            <p><strong>üìã Hazƒ±rlayan:</strong> Erol I≈ûILDAK</p>
            <p><strong>üë®‚Äçüè´ Danƒ±≈üman:</strong> √ñƒür.G√∂r. G√ºls√ºm KEMERLƒ∞</p>
          </div>
        </div>
        <div class="footer-copyright">
          <p>&copy; 2025 Nuh Naci Yazgan √úniversitesi</p>
          <p>T√ºm haklarƒ± saklƒ±dƒ±r.</p>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // APK Download Function
    function downloadAPK() {
      // APK dosyasƒ±nƒ±n doƒürudan linkini buraya koyun
  const apkUrl = 'https://drhamdikemerli.com/app-release.apk'; // Ger√ßek APK indirme linki
      
      // Alternatif olarak external link
      // const apkUrl = 'https://your-direct-download-link.com/app-release.apk';
      
      const a = document.createElement('a');
      a.href = apkUrl;
      a.download = 'kayseri-millet-bahcesi.apk';
      a.target = '_blank';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }
    
    // Hide loading screen after 3 seconds regardless
    setTimeout(function() {
      document.getElementById('loading').style.display = 'none';
      document.getElementById('flutter-target').style.display = 'block';
    }, 3000);

    // Flutter App Initialization
    window.addEventListener('load', function(ev) {
      // √ñnce haritayƒ± ba≈ülat
      initializeNNYMap();
      
      _flutter.loader.load({
        serviceWorkerSettings: {
          serviceWorkerVersion: serviceWorkerVersion,
        },
        onEntrypointLoaded: function(engineInitializer) {
          engineInitializer.initializeEngine({
            hostElement: document.getElementById('flutter-target')
          }).then(function(appRunner) {
            return appRunner.runApp();
          }).then(function() {
            // Flutter app y√ºklendi, loading'i gizle
            document.getElementById('loading').style.display = 'none';
            document.getElementById('flutter-target').style.display = 'block';
          });
        }
      });
    });
    
    // NNY Harita Ba≈ülatma
    let map, directionsService, directionsRenderer;
    let userMarker = null;
    let userLocation = null;
    let allPois = [];
    let poiMarkers = [];
    let currentInfoWindow = null; // A√ßƒ±k olan InfoWindow'u takip et
    
    function initializeNNYMap() {
      const mapDiv = document.getElementById('flutter-map');
      if (!mapDiv) {
        console.error('flutter-map div bulunamadƒ±!');
        return;
      }
      
      if (!window.google || !window.google.maps) {
        console.log('Google Maps API bekleniyor...');
        setTimeout(initializeNNYMap, 200);
        return;
      }
      
      console.log('‚úÖ NNY Haritasƒ± ba≈ülatƒ±lƒ±yor...');
      
      // Harita olu≈ütur 
      map = new google.maps.Map(mapDiv, {
        center: { lat: 38.786500, lng: 35.407380 }, 
        zoom: 17,
        mapTypeId: 'satellite', // Satellite modda heading √ßalƒ±≈üƒ±r
        heading: 270, // Soldan saƒüa 90 derece (saat y√∂n√ºn√ºn tersi)
        tilt: 0,
        fullscreenControl: false,
        streetViewControl: true,
        mapTypeControl: true,
        mapTypeControlOptions: {
          mapTypeIds: ['roadmap', 'satellite', 'hybrid'], // Terrain kaldƒ±rƒ±ldƒ±
          style: google.maps.MapTypeControlStyle.HORIZONTAL_BAR,
          position: google.maps.ControlPosition.TOP_RIGHT
        },
        zoomControl: true,
        rotateControl: true, // D√∂nd√ºrme kontrol√ºn√º aktif et
        gestureHandling: 'greedy',
        // Google'ƒ±n kendi POI'lerini gizle
        styles: [
          {
            featureType: 'poi',
            elementType: 'labels',
            stylers: [{ visibility: 'off' }]
          },
          {
            featureType: 'poi.business',
            stylers: [{ visibility: 'off' }]
          },
          {
            featureType: 'transit',
            elementType: 'labels.icon',
            stylers: [{ visibility: 'off' }]
          }
        ]
      });
      
      // Haritaya tƒ±klandƒ±ƒüƒ±nda a√ßƒ±k InfoWindow'u kapat
      map.addListener('click', () => {
        if (currentInfoWindow) {
          currentInfoWindow.close();
          currentInfoWindow = null;
        }
      });
      
      // Directions servisleri
      directionsService = new google.maps.DirectionsService();
      directionsRenderer = new google.maps.DirectionsRenderer({
        map: map,
        suppressMarkers: false,
        polylineOptions: {
          strokeColor: '#3252a8',
          strokeWeight: 5,
          strokeOpacity: 0.8
        }
      });
      
      // NNY Kamp√ºs POI'leri - Her tip i√ßin benzersiz ikon
      allPois = [
        { lat: 38.788505, lng: 35.407142, title: 'Saƒülƒ±k Bilimleri Fak√ºltesi', info: 'Hem≈üirelik, Beslenme ve Diyetetik', type: 'faculty', color: '#1a237e' },
        { lat: 38.787910, lng: 35.406831, title: 'ƒ∞ƒ∞BF', info: 'ƒ∞ktisadi ve ƒ∞dari Bilimler Fak√ºltesi', type: 'faculty', color: '#1a237e' },
        { lat: 38.787001, lng: 35.407812, title: 'M√ºhendislik Fak√ºltesi', info: 'Bilgisayar, Elektrik-Elektronik, End√ºstri', type: 'faculty', color: '#1a237e' },
        { lat: 38.786412, lng: 35.408523, title: 'G√ºzel Sanatlar Fak√ºltesi', info: 'Grafik Tasarƒ±m, ƒ∞√ß Mimarlƒ±k', type: 'faculty', color: '#1a237e' },
        { lat: 38.787876, lng: 35.407891, title: 'Ahmet Uzanda√ß K√ºt√ºphanesi', info: 'Merkez k√ºt√ºphane', type: 'library', color: '#6d4c41' },
        { lat: 38.787512, lng: 35.407234, title: 'Saatli Kule', info: 'Kamp√ºs simgesi', type: 'landmark', color: '#f57c00' },
        { lat: 38.786823, lng: 35.407456, title: 'Bald√∂kt√º Spor Salonu', info: 'Kapalƒ± spor kompleksi', type: 'sports', color: '#2e7d32' },
        { lat: 38.786947, lng: 35.409188, title: 'S√ºleyman √áetinsaya K√ºlt√ºr Merkezi', info: 'K√ºlt√ºr ve sanat etkinlikleri', type: 'culture', color: '#c2185b' },
        { lat: 38.788134, lng: 35.408912, title: 'Kƒ±z √ñƒürenci Yurdu', info: 'Kamp√ºs i√ßi konaklama', type: 'dormitory', color: '#7b1fa2' },
        { lat: 38.786234, lng: 35.409123, title: 'Erkek √ñƒürenci Yurdu', info: 'Kamp√ºs i√ßi konaklama', type: 'dormitory', color: '#7b1fa2' },
        { lat: 38.787654, lng: 35.406123, title: 'Ana Otopark', info: 'Kamp√ºs ana park alanƒ±', type: 'parking', color: '#616161' },
        { lat: 38.788901, lng: 35.408234, title: 'Kamp√ºs ƒ∞√ßi Durak', info: 'Servis ara√ßlarƒ± duraƒüƒ±', type: 'bus_stop', color: '#ff6f00' },
        { lat: 38.785678, lng: 35.407890, title: 'Ceylan Kƒ±rtasiye', info: 'Kƒ±rtasiye ve fotokopi', type: 'shop', color: '#00838f' },
        { lat: 38.787374, lng: 35.407380, title: 'NNY Kamp√ºs Merkezi', info: 'Nuh Naci Yazgan √úniversitesi', type: 'entrance', color: '#3252a8' }
      ];
      
      // POI tiplerine g√∂re ikonlar
      const poiIcons = {
        'faculty': 'üèõÔ∏è',      // Fak√ºlteler
        'library': 'üìö',       // K√ºt√ºphane
        'landmark': '‚è∞',      // Saatli kule
        'sports': 'üèÄ',        // Spor salonu
        'culture': 'üé≠',       // K√ºlt√ºr merkezi
        'dormitory': 'üè†',     // Yurtlar
        'parking': 'üÖøÔ∏è',      // Otopark
        'bus_stop': 'üöå',      // Otob√ºs duraƒüƒ±
        'shop': 'üè™',          // D√ºkkan
        'entrance': 'üéì'       // Ana giri≈ü/kamp√ºs merkezi
      };
      
      // POI marker'larƒ±nƒ± ekle
      allPois.forEach((poi, index) => {
        const iconText = poiIcons[poi.type] || 'üìç';
        
        const marker = new google.maps.Marker({
          position: { lat: poi.lat, lng: poi.lng },
          map: map,
          title: poi.title,
          label: {
            text: iconText,
            fontSize: '20px'
          },
          icon: {
            path: google.maps.SymbolPath.CIRCLE,
            scale: 15,
            fillColor: poi.color,
            fillOpacity: 0.85,
            strokeColor: '#ffffff',
            strokeWeight: 2.5
          },
          animation: google.maps.Animation.DROP
        });
        
        poiMarkers.push({ marker, poi });
        
        const infoWindow = new google.maps.InfoWindow({
          content: `
            <div style="padding:10px;max-width:250px;">
              <h3 style="margin:0 0 8px 0;color:${poi.color};font-size:16px;">${iconText} ${poi.title}</h3>
              <p style="margin:0 0 12px 0;color:#666;font-size:14px;">${poi.info}</p>
              <button onclick="showNavigation(${poi.lat}, ${poi.lng}, '${poi.title.replace(/'/g, "\\'")}')" 
                      style="width:100%;padding:10px;background:#3252a8;color:white;border:none;border-radius:8px;cursor:pointer;font-weight:600;">
                üß≠ Y√ºr√ºyerek Git
              </button>
            </div>
          `,
          maxWidth: 300
        });
        
        marker.addListener('click', () => {
          // √ñnceki a√ßƒ±k InfoWindow'u kapat
          if (currentInfoWindow) {
            currentInfoWindow.close();
          }
          
          infoWindow.open(map, marker);
          currentInfoWindow = infoWindow; // Yeni a√ßƒ±lan'ƒ± kaydet
        });
      });
      
      // Kullanƒ±cƒ± konumunu al
      getUserLocation();
      
      // Event listener'lar
      setupEventListeners();
      
      console.log(`‚úÖ ${allPois.length} POI eklendi!`);
    }
    
    // Kullanƒ±cƒ± konumunu al ve g√∂ster
    function getUserLocation() {
      if (!navigator.geolocation) {
        console.error('Tarayƒ±cƒ± konum servislerini desteklemiyor');
        return;
      }
      
      console.log('üîç Konum servisi ba≈ülatƒ±lƒ±yor...');
      
      navigator.geolocation.getCurrentPosition(
        (position) => {
          console.log('‚úÖ Konum alƒ±ndƒ±:', position.coords);
          
          userLocation = {
            lat: position.coords.latitude,
            lng: position.coords.longitude
          };
          
          // Mavi nokta marker
          if (!userMarker) {
            userMarker = new google.maps.Marker({
              position: userLocation,
              map: map,
              icon: {
                path: google.maps.SymbolPath.CIRCLE,
                scale: 8,
                fillColor: '#4285F4',
                fillOpacity: 1,
                strokeColor: '#ffffff',
                strokeWeight: 3
              },
              zIndex: 1000,
              title: 'Konumunuz'
            });
            
            // Konumun etrafƒ±nda a√ßƒ±k mavi daire
            new google.maps.Circle({
              map: map,
              center: userLocation,
              radius: position.coords.accuracy,
              fillColor: '#4285F4',
              fillOpacity: 0.2,
              strokeColor: '#4285F4',
              strokeOpacity: 0.4,
              strokeWeight: 1
            });
            
            console.log('üìç Mavi konum marker\'ƒ± eklendi');
          } else {
            userMarker.setPosition(userLocation);
          }
          
          // Konum deƒüi≈üikliklerini takip et
          navigator.geolocation.watchPosition(
            (pos) => {
              userLocation = {
                lat: pos.coords.latitude,
                lng: pos.coords.longitude
              };
              if (userMarker) {
                userMarker.setPosition(userLocation);
              }
            },
            (error) => {
              console.warn('Konum g√ºncellenirken hata:', error.message);
            },
            {
              enableHighAccuracy: true,
              maximumAge: 10000,
              timeout: 5000
            }
          );
        },
        (error) => {
          console.error('‚ùå Konum hatasƒ±:', error);
          let errorMessage = 'Konum bilgisi alƒ±namadƒ±. ';
          
          switch(error.code) {
            case error.PERMISSION_DENIED:
              errorMessage += 'Konum izni reddedildi. L√ºtfen tarayƒ±cƒ± ayarlarƒ±ndan konum iznini aktifle≈ütirin.';
              break;
            case error.POSITION_UNAVAILABLE:
              errorMessage += 'Konum bilgisi kullanƒ±lamƒ±yor. GPS veya internet baƒülantƒ±nƒ±zƒ± kontrol edin.';
              break;
            case error.TIMEOUT:
              errorMessage += 'Konum isteƒüi zaman a≈üƒ±mƒ±na uƒüradƒ±. Tekrar deneyin.';
              break;
            default:
              errorMessage += error.message;
          }
          
          console.warn(errorMessage);
          // Kullanƒ±cƒ±ya g√∂sterme, sadece console'da tut
        },
        {
          enableHighAccuracy: true,
          timeout: 10000,
          maximumAge: 0
        }
      );
    }
    
    // Event Listener'lar
    function setupEventListeners() {
      // Search box
      const searchBox = document.getElementById('mapSearchBox');
      const searchResults = document.getElementById('searchResults');
      
      searchBox.addEventListener('input', (e) => {
        const query = e.target.value.toLowerCase().trim();
        
        if (query.length === 0) {
          searchResults.classList.remove('show');
          return;
        }
        
        const filtered = allPois.filter(poi => 
          poi.title.toLowerCase().includes(query) || 
          poi.info.toLowerCase().includes(query)
        );
        
        if (filtered.length > 0) {
          searchResults.innerHTML = filtered.map(poi => {
            const iconText = poiIcons[poi.type] || 'üìç';
            return `
              <div class="search-result-item" onclick="selectPOI(${poi.lat}, ${poi.lng}, '${poi.title.replace(/'/g, "\\'")}')">
                <div class="result-title">${iconText} ${poi.title}</div>
                <div class="result-info">${poi.info}</div>
              </div>
            `;
          }).join('');
          searchResults.classList.add('show');
        } else {
          searchResults.innerHTML = '<div class="search-result-item"><div class="result-info">Sonu√ß bulunamadƒ±</div></div>';
          searchResults.classList.add('show');
        }
      });
      
      // My Location button
      document.getElementById('myLocationBtn').addEventListener('click', () => {
        if (userLocation) {
          map.setCenter(userLocation);
          map.setZoom(18);
        } else {
          alert('Konum bilgisi alƒ±namadƒ±. L√ºtfen konum izni verin.');
        }
      });
      
      // Close navigation panel
      document.getElementById('closeNav').addEventListener('click', () => {
        document.getElementById('navigationPanel').classList.remove('show');
        directionsRenderer.setDirections({ routes: [] });
      });
    }
    
    // POI se√ßildiƒüinde
    function selectPOI(lat, lng, title) {
      map.setCenter({ lat, lng });
      map.setZoom(18);
      document.getElementById('searchResults').classList.remove('show');
      document.getElementById('mapSearchBox').value = '';
      
      // ƒ∞lgili marker'ƒ± bul ve tƒ±kla
      poiMarkers.forEach(({ marker, poi }) => {
        if (poi.lat === lat && poi.lng === lng) {
          google.maps.event.trigger(marker, 'click');
        }
      });
    }
    
    // Navigasyon g√∂ster
    function showNavigation(destLat, destLng, title) {
      // A√ßƒ±k olan InfoWindow'u kapat (POI infowindow)
      if (currentInfoWindow) {
        currentInfoWindow.close();
        currentInfoWindow = null;
      }
      
      if (!userLocation) {
        alert('Konum bilgisi alƒ±namadƒ±. L√ºtfen konum izni verin.');
        return;
      }
      
      const panel = document.getElementById('navigationPanel');
      document.getElementById('navTitle').textContent = title;
      panel.classList.add('show');
      
      // Rota hesapla
      const request = {
        origin: userLocation,
        destination: { lat: destLat, lng: destLng },
        travelMode: google.maps.TravelMode.WALKING
      };
      
      directionsService.route(request, (result, status) => {
        if (status === 'OK') {
          directionsRenderer.setDirections(result);
          
          const route = result.routes[0].legs[0];
          document.getElementById('navDistance').textContent = route.distance.text;
          document.getElementById('navDuration').textContent = route.duration.text;
          
          // Haritayƒ± rotaya odakla
          map.fitBounds(result.routes[0].bounds);
        } else {
          console.error('Rota hesaplanamadƒ±:', status);
          alert('Rota hesaplanamadƒ±. L√ºtfen tekrar deneyin.');
        }
      });
    }
    
    // Fullscreen functionality
    document.getElementById('fullscreenBtn').addEventListener('click', function() {
      const mapContainer = document.getElementById('mapContainer');
      const btn = this;
      
      if (!mapContainer.classList.contains('fullscreen')) {
        mapContainer.classList.add('fullscreen');
        btn.innerHTML = '<span>‚õ∂</span> √áƒ±k';
      } else {
        mapContainer.classList.remove('fullscreen');
        btn.innerHTML = '<span>‚õ∂</span> Tam Ekran';
      }
    });
    
    // ESC key to exit fullscreen
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const mapContainer = document.getElementById('mapContainer');
        const btn = document.getElementById('fullscreenBtn');
        if (mapContainer.classList.contains('fullscreen')) {
          mapContainer.classList.remove('fullscreen');
          btn.innerHTML = '<span>‚õ∂</span> Tam Ekran';
        }
      }
    });
  </script>
</body>
</html>