<!DOCTYPE html>
<html lang="tr">
<head>
  <base href="/">
  <meta charset="UTF-8">
  <meta content="IE=Edge" http-equiv="X-UA-Compatible">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="description" content="Nuh Naci Yazgan Ãœniversitesi">
  <meta name="keywords" content="Kayseri,Nuh Naci Yazgan Ãœniversitesi, harita, navigasyon, NNY, Ã¼niversite">
  
  <!-- iOS meta tags & icons -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="Nuh Naci Yazgan Ãœniversitesi Harita">
  <link rel="apple-touch-icon" href="icons/Icon-192.png">

  <!-- Favicon -->
  <link rel="icon" type="image/png" href="favicon.png"/>

  <title>Nuh Naci Yazgan Ãœniversitesi </title>
  <link rel="manifest" href="manifest.json">
  
  <!-- Google Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
  
  <!-- Google Maps API -->
  <script async defer src="https://maps.googleapis.com/maps/api/js?key=YOUR_GOOGLE_MAPS_API_KEY&libraries=geometry,places&callback=initMap"></script>
  
  <script>
    // Global function for Google Maps callback
    function initMap() {
      console.log("âœ… Google Maps API initialized successfully!");
      // Flutter web will handle the map creation
      window.googleMapsReady = true;
    }
    
    // Initialize as false
    window.googleMapsReady = false;
  </script>
  
  <style>
    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }
    
    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
      line-height: 1.6;
      color: #2c3e50;
      background-color: #f8fafc;
    }
    
    /* Header Section */
    .header {
      background: linear-gradient(135deg, #2c3e50 0%, #3498db 100%);
      color: white;
      padding: 40px 0;
      box-shadow: 0 4px 20px rgba(0,0,0,0.1);
    }
    
    .container {
      max-width: 1200px;
      margin: 0 auto;
      padding: 0 20px;
    }
    
    .header-content {
      display: flex;
      align-items: center;
      gap: 30px;
      flex-wrap: wrap;
    }
    
    .nny-logo {
      flex-shrink: 0;
    }
    
    .nny-logo img {
      width: 120px;
      height: 120px;
      border-radius: 16px;
      box-shadow: 0 6px 20px rgba(255,255,255,0.25);
      background: white;
      padding: 15px;
      transition: transform 0.3s ease;
    }
    
    .nny-logo img:hover {
      transform: scale(1.05);
    }
    
    .header-text {
      flex: 1;
      min-width: 300px;
    }
    
    .header-text h1 {
      font-size: 2.5rem;
      font-weight: 800;
      margin-bottom: 10px;
      line-height: 1.2;
    }
    
    .header-text .subtitle {
      font-size: 1.2rem;
      font-weight: 300;
      opacity: 0.9;
      margin-bottom: 20px;
    }
    
    .header-text .description {
      font-size: 1rem;
      font-weight: 400;
      opacity: 0.8;
      line-height: 1.6;
    }
    
    /* Features Section */
    .features {
      background: white;
      padding: 60px 0;
    }
    
    .section-title {
      text-align: center;
      font-size: 2.2rem;
      font-weight: 700;
      color: #2c3e50;
      margin-bottom: 20px;
    }
    
    .section-subtitle {
      text-align: center;
      font-size: 1.1rem;
      color: #7f8c8d;
      margin-bottom: 50px;
      max-width: 600px;
      margin-left: auto;
      margin-right: auto;
    }
    
    .features-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
      gap: 30px;
      margin-bottom: 50px;
    }
    
    .feature-card {
      background: white;
      padding: 30px;
      border-radius: 16px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.08);
      border: 1px solid #e1e8ed;
      transition: all 0.3s ease;
      text-align: center;
    }
    
    .feature-card:hover {
      transform: translateY(-5px);
      box-shadow: 0 8px 30px rgba(0,0,0,0.12);
    }
    
    .feature-icon {
      width: 60px;
      height: 60px;
      margin: 0 auto 20px;
      background: linear-gradient(135deg, #3498db, #2980b9);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 1.8rem;
    }
    
    .feature-card h3 {
      font-size: 1.3rem;
      font-weight: 600;
      margin-bottom: 15px;
      color: #2c3e50;
    }
    
    .feature-card p {
      color: #7f8c8d;
      line-height: 1.6;
    }
    
    /* Map Section */
    .map-section {
      background: #f8fafc;
      padding: 40px 0;
      min-height: 80vh;
    }
    
    .map-container {
      position: relative;
      background: white;
      border-radius: 20px;
      box-shadow: 0 8px 40px rgba(0,0,0,0.1);
      overflow: hidden;
      height: 70vh;
      min-height: 500px;
    }
    
    .map-header {
      background: linear-gradient(135deg, #2c3e50, #34495e);
      color: white;
      padding: 20px 30px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }
    
    .map-title {
      font-size: 1.4rem;
      font-weight: 600;
    }
    
    .fullscreen-btn {
      background: rgba(255,255,255,0.2);
      border: none;
      color: white;
      padding: 8px 16px;
      border-radius: 8px;
      cursor: pointer;
      font-size: 0.9rem;
      font-weight: 500;
      transition: all 0.3s ease;
      display: flex;
      align-items: center;
      gap: 8px;
    }
    
    .fullscreen-btn:hover {
      background: rgba(255,255,255,0.3);
    }
    
    .map-frame {
      width: 100%;
      height: calc(100% - 70px);
      border: none;
      display: block;
    }
    
    /* Fullscreen styles */
    .map-container.fullscreen {
      position: fixed;
      top: 0;
      left: 0;
      width: 100vw;
      height: 100vh;
      z-index: 1000;
      border-radius: 0;
    }
    
    .map-container.fullscreen .map-frame {
      height: calc(100vh - 70px);
    }
    
    /* Info Cards */
    .info-cards {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      margin-top: 30px;
    }
    
    .info-card {
      background: white;
      padding: 25px;
      border-radius: 12px;
      box-shadow: 0 4px 15px rgba(0,0,0,0.08);
      border-left: 4px solid #3498db;
    }
    
    .info-card h4 {
      font-size: 1.1rem;
      font-weight: 600;
      color: #2c3e50;
      margin-bottom: 10px;
    }
    
    .info-card p {
      color: #7f8c8d;
      font-size: 0.95rem;
    }
    
    /* Download Section */
    .download-section {
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      padding: 60px 0;
      color: white;
    }
    
    .download-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(320px, 1fr));
      gap: 40px;
      margin-top: 40px;
    }
    
    .download-card {
      background: rgba(255,255,255,0.1);
      backdrop-filter: blur(10px);
      border-radius: 20px;
      padding: 40px;
      text-align: center;
      border: 1px solid rgba(255,255,255,0.2);
      transition: all 0.3s ease;
    }
    
    .download-card:hover {
      transform: translateY(-5px);
      background: rgba(255,255,255,0.15);
    }
    
    .platform-icon {
      width: 80px;
      height: 80px;
      margin: 0 auto 20px;
      background: rgba(255,255,255,0.2);
      border-radius: 16px;
      display: flex;
      align-items: center;
      justify-content: center;
      font-size: 2.5rem;
    }
    
    .download-card h3 {
      font-size: 1.5rem;
      font-weight: 700;
      margin-bottom: 15px;
    }
    
    .download-card p {
      font-size: 1rem;
      opacity: 0.9;
      margin-bottom: 25px;
      line-height: 1.6;
    }
    
    .qr-placeholder {
      width: 150px;
      height: 150px;
      margin: 0 auto 20px;
      background: rgba(255,255,255,0.9);
      border-radius: 12px;
      display: flex;
      align-items: center;
      justify-content: center;
      color: #7f8c8d;
      font-size: 0.9rem;
      font-weight: 500;
    }
    
    .download-btn {
      background: rgba(255,255,255,0.2);
      color: white;
      border: 2px solid rgba(255,255,255,0.3);
      padding: 12px 30px;
      border-radius: 25px;
      text-decoration: none;
      font-weight: 600;
      font-size: 1rem;
      display: inline-block;
      transition: all 0.3s ease;
      cursor: pointer;
      font-family: inherit;
      outline: none;
    }
    
    .download-btn:focus {
      outline: 2px solid rgba(255,255,255,0.5);
      outline-offset: 2px;
    }
    
    .download-btn:hover {
      background: rgba(255,255,255,0.3);
      border-color: rgba(255,255,255,0.5);
      transform: translateY(-2px);
    }
    
    .download-btn.disabled {
      opacity: 0.6;
      cursor: not-allowed;
    }
    
    .coming-soon {
      font-size: 0.85rem;
      opacity: 0.7;
    }
    
    .file-info {
      margin-top: 10px;
      opacity: 0.8;
    }
    
    .file-info small {
      font-size: 0.8rem;
      margin-top: 10px;
      font-style: italic;
    }
    
    /* Footer */
    .footer {
      background: #2c3e50;
      color: white;
      padding: 40px 0;
    }
    
    .footer-content {
      display: flex;
      justify-content: space-between;
      align-items: center;
      gap: 40px;
      flex-wrap: wrap;
    }
    
    .footer-info h4 {
      color: #3498db;
      margin-bottom: 15px;
      font-size: 1.1rem;
    }
    
    .team-info {
      text-align: left;
    }
    
    .team-info p {
      margin: 8px 0;
      opacity: 0.9;
    }
    
    .footer-copyright {
      text-align: right;
    }
    
    .footer-copyright p {
      margin: 5px 0;
      opacity: 0.8;
      font-size: 0.9rem;
    }
    
    /* Loading Screen */
    .loading-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    
    .loading-spinner {
      width: 50px;
      height: 50px;
      border: 5px solid rgba(255,255,255,0.3);
      border-top: 5px solid white;
      border-radius: 50%;
      animation: spin 1s linear infinite;
    }
    
    .loading-text {
      color: white;
      font-size: 1.2rem;
      margin-top: 20px;
      text-align: center;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }
    
    #flutter-target {
      display: none;
    }
    
    /* Responsive Design */
    @media (max-width: 768px) {
      .header-content {
        text-align: center;
        flex-direction: column;
        gap: 20px;
      }
      
      .nny-logo img {
        width: 100px;
        height: 100px;
        padding: 12px;
      }
      
      .header-text h1 {
        font-size: 2rem;
      }
      
      .header-text .subtitle {
        font-size: 1.1rem;
      }
      
      .features-grid {
        grid-template-columns: 1fr;
      }
      
      .map-container {
        margin: 0 -20px;
        border-radius: 0;
        height: 60vh;
      }
      
      .info-cards {
        grid-template-columns: 1fr;
      }
      
      .download-grid {
        grid-template-columns: 1fr;
        gap: 30px;
      }
      
      .download-card {
        padding: 30px 20px;
      }
      
      .platform-icon {
        width: 60px;
        height: 60px;
        font-size: 2rem;
      }
      
      .qr-placeholder {
        width: 120px;
        height: 120px;
      }
      
      .footer-content {
        flex-direction: column;
        text-align: center;
        gap: 20px;
      }
      
      .team-info {
        text-align: center;
      }
      
      .footer-copyright {
        text-align: center;
      }
    }
  </style>

  <script>
    // The value below is injected by flutter build, do not touch.
    const serviceWorkerVersion = "2159444300";
  </script>
  <!-- This script adds the flutter initialization JS code -->
  <script src="flutter.js" defer></script>
</head>
<body>
  <!-- Flutter Loading -->
  <div id="loading" class="loading-container">
    <div class="loading-spinner"></div>
    <div class="loading-text">Nuh Naci Yazgan Ãœniversitesi HaritasÄ± YÃ¼kleniyor...</div>
  </div>
  
  <!-- Flutter App Container -->
  <div id="flutter-target"></div>
  
  <!-- Header Section -->
  <header class="header">
    <div class="container">
      <div class="header-content">
        <div class="nny-logo">
          <img src="https://raw.githubusercontent.com/eisildak/millet_bahcesi_map/main/assets/icons/nny_university_logo.png" 
               alt="NNY Ãœniversitesi Logo" 
               onerror="this.src='https://raw.githubusercontent.com/eisildak/millet_bahcesi_map/main/assets/icons/nny_logo.png'">
        </div>
        <div class="header-text">
          <h1>Nuh Naci Yazgan Ãœniversitesi</h1>
          <div class="subtitle">Ä°nteraktif KampÃ¼s HaritasÄ± ve Navigasyon Rehberi</div>
          <div class="description">
            NNY Ãœniversitesi Ã¶ÄŸrencileri ve ziyaretÃ§ileri iÃ§in geliÅŸtirilmiÅŸ modern kampÃ¼s haritasÄ±. 
            KampÃ¼s iÃ§indeki fakÃ¼lteler, kÃ¼tÃ¼phane, yemekhaneler ve diÄŸer Ã¶nemli noktalarÄ± kolayca bulun.
          </div>
        </div>
      </div>
    </div>
  </header>

  <!-- Features Section -->
  <section class="features">
    <div class="container">
      <h2 class="section-title">Uygulama Ã–zellikleri</h2>
      <p class="section-subtitle">
        NNY KampÃ¼sÃ¼'nde kolayca yÃ¶n bulmanÄ±z iÃ§in geliÅŸtirilmiÅŸ Ã¶zellikler
      </p>
      
      <div class="features-grid">
        <div class="feature-card">
          <div class="feature-icon">ğŸ—ºï¸</div>
          <h3>Ä°nteraktif KampÃ¼s HaritasÄ±</h3>
          <p>Google Maps entegrasyonu ile detaylÄ± kampÃ¼s haritasÄ± ve gerÃ§ek zamanlÄ± konum takibi</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸ“</div>
          <h3>23+ Ä°lgi NoktasÄ±</h3>
          <p>FakÃ¼lteler, kÃ¼tÃ¼phane, yemekhaneler, spor salonu, yurtlar ve diÄŸer kampÃ¼s tesisleri</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸ”</div>
          <h3>AkÄ±llÄ± Arama</h3>
          <p>KampÃ¼s tesislerini isim ve kategori bazÄ±nda hÄ±zlÄ±ca arayÄ±n, kategori filtresi kullanÄ±n</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸ§­</div>
          <h3>KampÃ¼s Ä°Ã§i Navigasyon</h3>
          <p>YÃ¼rÃ¼yerek yol tarifi, adÄ±m adÄ±m rehberlik ve mesafe hesaplama Ã¶zellikleri</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸ“±</div>
          <h3>Modern ArayÃ¼z</h3>
          <p>Ã–ÄŸrenciler iÃ§in tasarlanmÄ±ÅŸ kullanÄ±cÄ± dostu ve sezgisel mobil arayÃ¼z</p>
        </div>
        
        <div class="feature-card">
          <div class="feature-icon">ğŸŒ</div>
          <h3>Ã‡oklu Platform</h3>
          <p>Web, Android ve iOS platformlarÄ±nda sorunsuz Ã§alÄ±ÅŸÄ±r</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Map Section -->
  <section class="map-section">
    <div class="container">
      <div class="map-container" id="mapContainer">
        <div class="map-header">
          <div class="map-title">ğŸ—ºï¸ Nuh Naci Yazgan Ãœniversitesi HaritasÄ±</div>
          <button class="fullscreen-btn" id="fullscreenBtn">
            <span>â›¶</span> Tam Ekran
          </button>
        </div>
        <div id="flutter-map" class="map-frame"></div>
      </div>
      
      <div class="info-cards">
        <div class="info-card">
          <h4>ğŸ“ Ä°lgi NoktalarÄ±</h4>
          <p>FakÃ¼lteler, KÃ¼tÃ¼phane, Yemekhaneler, Spor Salonu, Ã–ÄŸrenci YurtlarÄ±, Otoparklar, KampÃ¼s Hizmetleri</p>
        </div>
        
        <div class="info-card">
          <h4>ğŸ¯ Kategoriler</h4>
          <p>FakÃ¼lte, KÃ¼tÃ¼phane, Yemek, Spor, Yurt, UlaÅŸÄ±m, Otopark, Hizmet, GiriÅŸ KapÄ±larÄ±</p>
        </div>
        
        <div class="info-card">
          <h4>ğŸš€ Teknoloji</h4>
          <p>Flutter 3.0+, Google Maps API, GPS Konum Servisleri</p>
        </div>
        
        <div class="info-card">
          <h4>ğŸ“± Platform</h4>
          <p>Android, iOS ve Web platformlarÄ±nda Ã§alÄ±ÅŸÄ±r</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Download Section -->
  <section class="download-section">
    <div class="container">
      <h2 class="section-title">Mobil UygulamayÄ± Ä°ndirin</h2>
      <p class="section-subtitle">
        NNY KampÃ¼s HaritasÄ± uygulamasÄ±nÄ± mobil cihazÄ±nÄ±za indirin ve kampÃ¼ste her zaman yanÄ±nÄ±zda taÅŸÄ±yÄ±n
      </p>
      
      <div class="download-grid">
        <!-- Android APK -->
        <div class="download-card">
          <div class="platform-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="#A4C639">
              <path d="M17.523,15.3414c-0.5665,0-1.0233-0.4568-1.0233-1.0233s0.4568-1.0233,1.0233-1.0233 s1.0233,0.4568,1.0233,1.0233S18.0895,15.3414,17.523,15.3414z M6.477,15.3414c-0.5665,0-1.0233-0.4568-1.0233-1.0233 s0.4568-1.0233,1.0233-1.0233s1.0233,0.4568,1.0233,1.0233S7.0435,15.3414,6.477,15.3414z M12,2.8594 c-0.0896,0-0.1792,0.0224-0.2687,0.0672L6.5313,5.1875c-0.1791,0.0896-0.2687,0.2687-0.2687,0.4478v6.7031 c0,1.7911,1.4588,3.25,3.25,3.25h5.4375c1.7911,0,3.25-1.4589,3.25-3.25V5.6353c0-0.1791-0.0896-0.358-0.2687-0.4478 l-5.2-2.26C12.1792,2.8818,12.0896,2.8594,12,2.8594z"/>
            </svg>
          </div>
          <h3>Android APK</h3>
          <p>Android cihazlar iÃ§in optimize edilmiÅŸ uygulama. DoÄŸrudan APK dosyasÄ±nÄ± indirerek kurulum yapabilirsiniz.</p>
          
          <div class="qr-placeholder" id="androidQR">
            <div class="qr-code-container">
              <img src="https://api.qrserver.com/v1/create-qr-code/?size=120x120&data=https://interaktifmap.com/app-release.apk" 
                   alt="Android APK QR Kod" style="width: 100%; height: 100%; border-radius: 8px;">
            </div>
          </div>
          
          <button class="download-btn" 
                  id="androidDownloadBtn"
                  onclick="downloadAPK()">
            ğŸ“¥ Android APK Ä°ndir (v1.0)
          </button>
          <div class="file-info">
            <small>ğŸ“Š Dosya Boyutu: ~25MB | ğŸ“± Android 6.0+</small>
          </div>
        </div>
        
        <!-- iOS IPA -->
        <div class="download-card">
          <div class="platform-icon">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="#000000">
              <path d="M18.71,19.5C17.88,20.74 17,21.95 15.66,21.97C14.32,22 13.89,21.18 12.37,21.18C10.84,21.18 10.37,21.95 9.1,22C7.79,22.05 6.8,20.68 5.96,19.47C4.25,17 2.94,12.45 4.7,9.39C5.57,7.87 7.13,6.91 8.82,6.88C10.1,6.86 11.32,7.75 12.11,7.75C12.89,7.75 14.37,6.68 15.92,6.84C16.57,6.87 18.39,7.1 19.56,8.82C19.47,8.88 17.39,10.1 17.41,12.63C17.44,15.65 20.06,16.66 20.09,16.67C20.06,16.74 19.67,18.11 18.71,19.5M13,3.5C13.73,2.67 14.94,2.04 15.94,2C16.07,3.17 15.6,4.35 14.9,5.19C14.21,6.04 13.07,6.7 11.95,6.61C11.8,5.46 12.36,4.26 13,3.5Z"/>
            </svg>
          </div>
          <h3>iOS IPA</h3>
          <p>iOS cihazlar iÃ§in optimize edilmiÅŸ uygulama. TestFlight veya enterprise daÄŸÄ±tÄ±m ile kurulum yapabilirsiniz.</p>
          
          <div class="qr-placeholder" id="iosQR">
            QR Kod
            <br><small>YakÄ±nda Eklenecek</small>
          </div>
          
          <a href="#" class="download-btn disabled" id="iosDownloadBtn">
            ğŸ“¥ iOS IPA Ä°ndir
          </a>
          <div class="coming-soon">IPA linki yakÄ±nda eklenecek</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="container">
      <div class="footer-content">
        <div class="footer-info">
          <h4>Proje Ekibi</h4>
          <div class="team-info">
            <p><strong>ğŸ“‹ HazÄ±rlayan:</strong> Erol IÅILDAK</p>
            <p><strong>ğŸ‘¨â€ğŸ« DanÄ±ÅŸman:</strong> Ã–ÄŸr.GÃ¶r. GÃ¼lsÃ¼m KEMERLÄ°</p>
          </div>
        </div>
        <div class="footer-copyright">
          <p>&copy; 2025 Nuh Naci Yazgan Ãœniversitesi</p>
          <p>TÃ¼m haklarÄ± saklÄ±dÄ±r.</p>
        </div>
      </div>
    </div>
  </footer>

  <script>
    // APK Download Function
    function downloadAPK() {
      // APK dosyasÄ±nÄ±n doÄŸrudan linkini buraya koyun
      const apkUrl = './app-release.apk'; // APK'yÄ± web klasÃ¶rÃ¼ne koyarsanÄ±z
      
      // Alternatif olarak external link
      // const apkUrl = 'https://your-direct-download-link.com/app-release.apk';
      
      const a = document.createElement('a');
      a.href = apkUrl;
      a.download = 'nny-kampus-haritasi.apk';
      a.target = '_blank';
      document.body.appendChild(a);
      a.click();
      document.body.removeChild(a);
    }
    
    // Flutter App Initialization with timeout
    let flutterLoaded = false;
    let loadingTimeout;
    
    // Set loading timeout - fallback to simple view after 15 seconds
    loadingTimeout = setTimeout(() => {
      if (!flutterLoaded) {
        console.log('Flutter loading timeout, redirecting to simple view');
        window.location.href = './simple.html';
      }
    }, 15000);
    
    window.addEventListener('load', function(ev) {
      _flutter.loader.load({
        serviceWorkerSettings: {
          serviceWorkerVersion: serviceWorkerVersion,
        },
        onEntrypointLoaded: function(engineInitializer) {
          engineInitializer.initializeEngine({
            hostElement: document.getElementById('flutter-target')
          }).then(function(appRunner) {
            return appRunner.runApp();
          }).then(function() {
            // Flutter app yÃ¼klendi, loading'i gizle
            flutterLoaded = true;
            clearTimeout(loadingTimeout);
            document.getElementById('loading').style.display = 'none';
            document.getElementById('flutter-target').style.display = 'block';
          }).catch(function(error) {
            console.error('Flutter app failed to load:', error);
            window.location.href = './simple.html';
          });
        }
      });
    });
    
    // Fullscreen functionality
    document.getElementById('fullscreenBtn').addEventListener('click', function() {
      const mapContainer = document.getElementById('mapContainer');
      const btn = this;
      
      if (!mapContainer.classList.contains('fullscreen')) {
        mapContainer.classList.add('fullscreen');
        btn.innerHTML = '<span>â›¶</span> Ã‡Ä±k';
      } else {
        mapContainer.classList.remove('fullscreen');
        btn.innerHTML = '<span>â›¶</span> Tam Ekran';
      }
    });
    
    // ESC key to exit fullscreen
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape') {
        const mapContainer = document.getElementById('mapContainer');
        const btn = document.getElementById('fullscreenBtn');
        if (mapContainer.classList.contains('fullscreen')) {
          mapContainer.classList.remove('fullscreen');
          btn.innerHTML = '<span>â›¶</span> Tam Ekran';
        }
      }
    });
  </script>
</body>
</html>